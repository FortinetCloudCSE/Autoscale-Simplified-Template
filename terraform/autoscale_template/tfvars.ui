#====================================================================================================
# REGION AND AVAILABILITY ZONES
#====================================================================================================
# @ui-group: Region and Availability Zones
# @ui-order: 1
# @ui-description: AWS region and availability zone selection for FortiGate deployment

# @ui-type: select
# @ui-source: aws-regions
# @ui-label: AWS Region
# @ui-description: AWS region where all resources will be deployed
# @ui-required: true
# @ui-width: full
# @ui-default: us-west-2
aws_region          = "us-west-2"

# @ui-type: select
# @ui-source: aws-availability-zones
# @ui-depends-on: aws_region
# @ui-label: Availability Zone 1
# @ui-description: First AZ for multi-AZ deployment (specify as single letter: a, b, c, etc.)
# @ui-required: true
# @ui-width: half
# @ui-default: a
availability_zone_1 = "a"

# @ui-type: select
# @ui-source: aws-availability-zones
# @ui-depends-on: aws_region
# @ui-label: Availability Zone 2
# @ui-description: Second AZ for multi-AZ deployment (must differ from AZ 1)
# @ui-required: true
# @ui-width: half
# @ui-validation: different-from:availability_zone_1
# @ui-default: c
availability_zone_2 = "c"

#====================================================================================================
# RESOURCE IDENTIFICATION
#====================================================================================================
# @ui-group: Resource Identification
# @ui-order: 2
# @ui-description: Customer prefix and environment for resource naming and tagging. CRITICAL: These values MUST MATCH between existing_vpc_resources and autoscale_template for resource discovery.

# @ui-type: text
# @ui-label: Customer Prefix
# @ui-description: Customer prefix for resource naming (e.g., company/project name)
# @ui-required: true
# @ui-width: half
# @ui-validation: min-length:2,max-length:20
# @ui-default: acme
# @ui-help: Format: <cp>-<env>-<resource_name> (e.g., "acme-test-inspection-vpc")
cp  = "acme"

# @ui-type: text
# @ui-label: Environment
# @ui-description: Environment name (prod, test, dev, staging, etc.)
# @ui-required: true
# @ui-width: half
# @ui-validation: min-length:2,max-length:20
# @ui-default: test
env = "test"

#====================================================================================================
# FORTIGATE INSTANCE CONFIGURATION
#====================================================================================================
# @ui-group: FortiGate Instance Configuration
# @ui-order: 3
# @ui-description: FortiGate instance type, version, credentials, and interface architecture

# @ui-type: select
# @ui-source: aws-keypairs
# @ui-depends-on: aws_region
# @ui-label: FortiGate EC2 Key Pair
# @ui-description: AWS EC2 keypair for SSH access to FortiGate instances (must already exist in target region)
# @ui-required: true
# @ui-width: half
# @ui-help: Use 'aws ec2 describe-key-pairs' to list available keypairs
keypair = ""

# @ui-type: text
# @ui-label: Management Access CIDRs
# @ui-description: List of CIDRs allowed to access FortiGate management (HTTPS, SSH, SNMP)
# @ui-required: true
# @ui-width: full
# @ui-placeholder: ["1.2.3.4/32", "5.6.7.0/24"]
# @ui-help: Restricts access to HTTPS (443), SSH (22), SNMP (161/162), FortiManager (541). Find your IP: curl ifconfig.me
vpc_cidr_sg = []

# @ui-type: password
# @ui-label: FortiGate Admin Password
# @ui-description: Admin password for all FortiGate instances in the autoscale group
# @ui-required: true
# @ui-width: full
# @ui-validation: min-length:8
# @ui-help: CRITICAL: Must be specified. Minimum 8 characters. Password syncs across all instances via HA.
fortigate_asg_password = ""

# @ui-type: select
# @ui-source: static
# @ui-options: c6i.xlarge|c6i.xlarge (4 vCPU - Small/Medium),c6i.2xlarge|c6i.2xlarge (8 vCPU - Medium),c7gn.large|c7gn.large (2 vCPU ARM - Minimal),c7gn.xlarge|c7gn.xlarge (4 vCPU ARM),c7gn.2xlarge|c7gn.2xlarge (8 vCPU ARM),c8gn.xlarge|c8gn.xlarge (4 vCPU ARM - Latest),c8gn.2xlarge|c8gn.2xlarge (8 vCPU ARM - Latest),c8gn.4xlarge|c8gn.4xlarge (16 vCPU ARM - High Performance)
# @ui-label: FortiGate Instance Type
# @ui-description: EC2 instance type for FortiGate (determines CPU, memory, network performance)
# @ui-required: true
# @ui-width: half
# @ui-default: c7gn.xlarge
# @ui-help: c6i: Intel x86, c7gn/c8gn: ARM Graviton (cost-optimized). c8gn is latest generation with best price/performance.
fgt_instance_type = "c7gn.xlarge"

# @ui-type: text
# @ui-label: FortiOS Version
# @ui-description: FortiOS version to deploy (X.Y.Z for specific, X.Y for latest patch)
# @ui-required: true
# @ui-width: half
# @ui-default: 7.4.5
# @ui-help: Example: "7.4.5" for specific version, "7.4" for latest 7.4.x
fortios_version = "7.4.5"

# @ui-type: number
# @ui-label: FortiGate GUI Port
# @ui-description: HTTPS port for web management interface
# @ui-required: true
# @ui-width: half
# @ui-validation: min:1,max:65535
# @ui-default: 443
# @ui-help: Default: 443 (standard HTTPS), Alternative: 8443
fortigate_gui_port = 443

# @ui-type: select
# @ui-source: static
# @ui-options: 1-arm|1-Arm (Single Interface - Hairpin),2-arm|2-Arm (Dual Interface - Traditional)
# @ui-label: Firewall Policy Mode
# @ui-description: FortiGate interface architecture for traffic inspection
# @ui-required: true
# @ui-width: half
# @ui-default: 1-arm
# @ui-help: 1-arm: Hairpin traffic pattern (simpler). 2-arm: Separate trusted/untrusted interfaces (traditional firewall model).
firewall_policy_mode = "1-arm"

# @ui-type: select
# @ui-source: static
# @ui-options: nat_gw|NAT Gateway (Centralized - Predictable IP),eip|Elastic IP (Per Instance - No NAT Gateway cost)
# @ui-label: Internet Egress Mode
# @ui-description: How FortiGate instances access the internet
# @ui-required: true
# @ui-width: full
# @ui-default: nat_gw
# @ui-help: NAT Gateway: Predictable source IP, additional cost. EIP: Distributed egress, no NAT Gateway cost.
access_internet_mode = "nat_gw"

#====================================================================================================
# MANAGEMENT OPTIONS
#====================================================================================================
# @ui-group: Management Options
# @ui-order: 4
# @ui-description: FortiGate management interface and VPC integration options

# @ui-type: checkbox
# @ui-label: Enable Dedicated Management VPC
# @ui-description: Connect FortiGate management interfaces to separate management VPC (created by existing_vpc_resources)
# @ui-width: full
# @ui-default: false
# @ui-help: Set to true if you deployed a management VPC with existing_vpc_resources. Management VPC is discovered automatically via Fortinet-Role tags using cp and env values.
enable_dedicated_management_vpc = false

# @ui-type: checkbox
# @ui-label: Enable Dedicated Management ENI
# @ui-description: Dedicate port2 as management-only interface (removes from data plane)
# @ui-width: full
# @ui-default: true
# @ui-help: Recommended for production. Requires dedicated management VPC or management subnets in inspection VPC to be useful.
enable_dedicated_management_eni = true

# @ui-type: checkbox
# @ui-label: Enable East-West Inspection
# @ui-description: Route spoke-to-spoke traffic through FortiGate for inspection
# @ui-width: full
# @ui-default: true
# @ui-help: Set to true to inspect inter-VPC traffic. Set to false to allow direct spoke-to-spoke communication.
enable_east_west_inspection = true

#====================================================================================================
# TRANSIT GATEWAY INTEGRATION
#====================================================================================================
# @ui-group: Transit Gateway Integration
# @ui-order: 5
# @ui-description: Attach inspection VPC to Transit Gateway for centralized routing

# @ui-type: checkbox
# @ui-label: Enable TGW Attachment
# @ui-description: Attach inspection VPC to existing Transit Gateway
# @ui-width: full
# @ui-default: true
# @ui-help: Set to true for centralized egress architectures. Set to false for distributed inspection.
enable_tgw_attachment = true

# @ui-type: text
# @ui-label: Transit Gateway Name
# @ui-description: Name tag of the existing Transit Gateway to attach to
# @ui-required: false
# @ui-width: half
# @ui-placeholder: acme-test-tgw
# @ui-show-if: enable_tgw_attachment == true
# @ui-help: IMPORTANT: Must match attach_to_tgw_name in existing_vpc_resources. TGW must be in Available state.
attach_to_tgw_name = "acme-test-tgw"

# @ui-type: checkbox
# @ui-label: Create TGW Routes for Existing Resources
# @ui-description: Populate TGW route tables to route spoke traffic through inspection VPC
# @ui-width: full
# @ui-show-if: enable_tgw_attachment == true
# @ui-default: false
# @ui-help: Set to true ONLY if you deployed existing_vpc_resources. Set to false for production TGW integration.
create_tgw_routes_for_existing = false

#====================================================================================================
# GATEWAY LOAD BALANCER CONFIGURATION
#====================================================================================================
# @ui-group: GWLB Configuration
# @ui-order: 6
# @ui-description: Gateway Load Balancer settings and route table configuration

# @ui-type: checkbox
# @ui-label: Allow Cross-Zone Load Balancing
# @ui-description: GWLB can send traffic to FortiGates in any AZ
# @ui-width: full
# @ui-default: true
# @ui-help: Recommended for production (maximizes availability). Set to false to avoid cross-AZ data transfer charges ($0.01/GB).
allow_cross_zone_load_balancing = true

# @ui-type: text
# @ui-label: GWLB Endpoint Name AZ1
# @ui-description: Name for GWLB endpoint in first availability zone
# @ui-required: true
# @ui-width: half
# @ui-default: asg-gwlbe_az1
# @ui-help: Used for route table configuration to direct traffic through endpoints
endpoint_name_az1 = "asg-gwlbe_az1"

# @ui-type: text
# @ui-label: GWLB Endpoint Name AZ2
# @ui-description: Name for GWLB endpoint in second availability zone
# @ui-required: true
# @ui-width: half
# @ui-default: asg-gwlbe_az2
endpoint_name_az2 = "asg-gwlbe_az2"

# @ui-type: checkbox
# @ui-label: Modify Existing Route Tables
# @ui-description: Add routes in inspection VPC private subnets pointing to GWLB endpoints
# @ui-width: full
# @ui-default: true
# @ui-help: WARNING: When true, replaces existing default routes in private subnets. Required for traffic inspection to work.
modify_existing_route_tables = true

#====================================================================================================
# NETWORK CIDR CONFIGURATION
#====================================================================================================
# @ui-group: Network CIDR Configuration
# @ui-order: 7
# @ui-description: VPC CIDR blocks for inspection, management, and spoke VPCs

# @ui-type: text
# @ui-label: Inspection VPC CIDR
# @ui-description: CIDR for the inspection VPC where FortiGate autoscale group and GWLB are deployed
# @ui-required: true
# @ui-width: full
# @ui-validation: cidr
# @ui-default: 10.0.0.0/16
# @ui-help: Must not overlap with management VPC or spoke VPCs
vpc_cidr_inspection = "10.0.0.0/16"

# @ui-type: text
# @ui-label: Management VPC CIDR
# @ui-description: CIDR for the management VPC (must match existing_vpc_resources if deployed)
# @ui-required: true
# @ui-width: half
# @ui-validation: cidr,not-overlap
# @ui-default: 10.3.0.0/16
vpc_cidr_management = "10.3.0.0/16"

# @ui-type: text
# @ui-label: Spoke Supernet CIDR
# @ui-description: Supernet CIDR encompassing all spoke VPCs
# @ui-required: true
# @ui-width: half
# @ui-validation: cidr
# @ui-default: 192.168.0.0/16
vpc_cidr_spoke = "192.168.0.0/16"

# @ui-type: text
# @ui-label: East Spoke VPC CIDR
# @ui-description: CIDR for the east spoke VPC
# @ui-required: true
# @ui-width: half
# @ui-validation: cidr,within:vpc_cidr_spoke
# @ui-default: 192.168.0.0/24
vpc_cidr_east  = "192.168.0.0/24"

# @ui-type: text
# @ui-label: West Spoke VPC CIDR
# @ui-description: CIDR for the west spoke VPC
# @ui-required: true
# @ui-width: half
# @ui-validation: cidr,within:vpc_cidr_spoke
# @ui-default: 192.168.1.0/24
vpc_cidr_west  = "192.168.1.0/24"

# @ui-type: number
# @ui-label: Subnet Bits
# @ui-description: Number of bits added to VPC CIDR prefix for subnet calculation
# @ui-required: true
# @ui-width: half
# @ui-validation: min:4,max:12
# @ui-default: 8
# @ui-help: Example: 10.0.0.0/16 with subnet_bits=8 creates /24 subnets
subnet_bits = 8

#====================================================================================================
# AUTOSCALE GROUP CAPACITY
#====================================================================================================
# @ui-group: Autoscale Group Capacity
# @ui-order: 8
# @ui-description: Autoscale group sizing for BYOL and On-Demand instance pools

# @ui-type: text
# @ui-label: ASG Module Prefix
# @ui-description: Prefix for autoscale group resource names
# @ui-required: true
# @ui-width: half
# @ui-validation: min-length:2,max-length:20
# @ui-default: asg
# @ui-help: Results in names like "acme-test-asg-byol", "acme-test-asg-ondemand"
asg_module_prefix = "asg"

# @ui-type: checkbox
# @ui-label: Primary Scale-In Protection
# @ui-description: Protect primary instance from termination during scale-in
# @ui-width: half
# @ui-default: true
# @ui-help: Recommended for production (maintains configuration stability)
primary_scalein_protection = true

# @ui-type: slider
# @ui-label: BYOL Min Size
# @ui-description: Minimum BYOL instances to maintain
# @ui-required: true
# @ui-width: third
# @ui-validation: min:0,max:10
# @ui-default: 1
# @ui-help: Use BYOL/FortiFlex for baseline 24/7 capacity to minimize costs.
asg_byol_asg_min_size     = 1

# @ui-type: slider
# @ui-label: BYOL Max Size
# @ui-description: Maximum BYOL instances for scale-out
# @ui-required: true
# @ui-width: third
# @ui-validation: min:0,max:10
# @ui-default: 2
asg_byol_asg_max_size     = 2

# @ui-type: slider
# @ui-label: BYOL Desired Size
# @ui-description: Target BYOL instance count
# @ui-required: true
# @ui-width: third
# @ui-validation: min:0,max:10
# @ui-default: 1
asg_byol_asg_desired_size = 1

# @ui-type: slider
# @ui-label: On-Demand Min Size
# @ui-description: Minimum PAYG instances (set to 0 for burst-only capacity)
# @ui-required: true
# @ui-width: third
# @ui-validation: min:0,max:10
# @ui-default: 0
# @ui-help: Use PAYG for burst capacity above BYOL baseline.
asg_ondemand_asg_min_size     = 0

# @ui-type: slider
# @ui-label: On-Demand Max Size
# @ui-description: Maximum PAYG burst instances
# @ui-required: true
# @ui-width: third
# @ui-validation: min:0,max:10
# @ui-default: 2
asg_ondemand_asg_max_size     = 2

# @ui-type: slider
# @ui-label: On-Demand Desired Size
# @ui-description: Target PAYG instance count (set to 0 to avoid running 24/7)
# @ui-required: true
# @ui-width: third
# @ui-validation: min:0,max:10
# @ui-default: 0
asg_ondemand_asg_desired_size = 0

#====================================================================================================
# LICENSING CONFIGURATION
#====================================================================================================
# @ui-group: Licensing Configuration
# @ui-order: 9
# @ui-description: BYOL license files and FortiFlex usage-based licensing

# @ui-type: text
# @ui-label: BYOL License Directory
# @ui-description: Relative path to directory containing FortiGate BYOL .lic files
# @ui-required: false
# @ui-width: full
# @ui-default: asg_license
# @ui-help: Only required if using BYOL licenses. Ensure you have at least asg_byol_asg_max_size license files.
asg_license_directory = "asg_license"

# @ui-type: text
# @ui-label: FortiFlex Username (UUID)
# @ui-description: FortiFlex API username for usage-based licensing
# @ui-required: false
# @ui-width: half
# @ui-placeholder: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
# @ui-help: Leave empty if using BYOL files or PAYG only
fortiflex_username      = ""

# @ui-type: password
# @ui-label: FortiFlex Password
# @ui-description: FortiFlex API password
# @ui-required: false
# @ui-width: half
# @ui-help: Leave empty if using BYOL files or PAYG only
fortiflex_password      = ""

# @ui-type: text
# @ui-label: FortiFlex Serial Number List
# @ui-description: Serial numbers to restrict FortiFlex licensing (optional)
# @ui-required: false
# @ui-width: full
# @ui-placeholder: FGVMELTMxxxxxxxx,FGVMELTMxxxxxxxx
# @ui-help: Optional: Restrict to specific FortiFlex programs
fortiflex_sn_list       = [""]

# @ui-type: text
# @ui-label: FortiFlex Configuration ID List
# @ui-description: Configuration IDs from FortiFlex portal
# @ui-required: false
# @ui-width: full
# @ui-placeholder: STD_ASG_FGT_4XvcpuFortiGate-VM
fortiflex_configid_list = [""]

#====================================================================================================
# FORTIMANAGER INTEGRATION (OPTIONAL)
#====================================================================================================
# @ui-group: FortiManager Integration (Optional)
# @ui-order: 10
# @ui-description: Centralized policy management and device orchestration

# @ui-type: checkbox
# @ui-label: Enable FortiManager Integration
# @ui-description: Register primary FortiGate with FortiManager for centralized management
# @ui-width: full
# @ui-default: false
# @ui-help: Requires FortiManager 7.6.3+ with 'config system global / set fgfm-allow-vm enable'
enable_fortimanager_integration = false

# @ui-type: text
# @ui-label: FortiManager IP or FQDN
# @ui-description: FortiManager IP address or FQDN (must be reachable from FortiGate)
# @ui-required: false
# @ui-width: half
# @ui-placeholder: 10.3.0.14
# @ui-show-if: enable_fortimanager_integration == true
# @ui-help: Private IP if using management VPC. Ensure security groups allow TCP 541.
fortimanager_ip = ""

# @ui-type: text
# @ui-label: FortiManager Serial Number
# @ui-description: FortiManager serial number for device registration
# @ui-required: false
# @ui-width: half
# @ui-placeholder: FMGVM0000000001
# @ui-show-if: enable_fortimanager_integration == true
# @ui-help: Find in FortiManager: System Settings > Dashboard > System Information
fortimanager_sn = ""

# @ui-type: number
# @ui-label: FortiManager VRF Select
# @ui-description: Routing domain for FortiManager connectivity (0=Global, 1+=Management VRF)
# @ui-required: false
# @ui-width: half
# @ui-validation: min:0,max:255
# @ui-default: 0
# @ui-show-if: enable_fortimanager_integration == true
# @ui-help: Typically use 1 if enable_dedicated_management_eni = true
fortimanager_vrf_select = 0

# @ui-hidden: true
base_config_file = "fgt-conf.cfg"

# @ui-hidden: true
acl = "private"

# @ui-hidden: true
public_subnet_index = 0

# @ui-hidden: true
gwlbe_subnet_index = 1

# @ui-hidden: true
private_subnet_index = 2

# @ui-hidden: true
natgw_subnet_index = 3
